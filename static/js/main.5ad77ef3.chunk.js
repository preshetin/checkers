(this["webpackJsonpreact-checkers"]=this["webpackJsonpreact-checkers"]||[]).push([[0],{31:function(e,t,r){e.exports=r(43)},43:function(e,t,r){"use strict";r.r(t);var o=r(0),n=r.n(o),a=r(20),c=r.n(a),i=r(6),s=r(7),l=r(12),u=r(8),d=r(13),h=r(28),f=r(3),g=r(9),p=r(5);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(r,!0).forEach((function(t){Object(g.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=function(e){var t=e.resetHighlighted,r=e.color,o=e.style,a=e.counter,c=e.row,i=e.col,s=e.showSquares,l=(e.currMove,e.king),u=Object(p.c)({item:{type:"checker"},collect:function(e){return{isDragging:!!e.isDragging()}},begin:function(e){return s({color:r,col:i,row:c,king:l})},end:function(e){return t()}}),d=Object(f.a)(u,2),h=d[0].isDragging,g=d[1];return n.a.createElement("div",{ref:g,style:b({},o,{backgroundColor:r,opacity:h?.5:1}),id:[r,a]},n.a.createElement("div",{style:{fontFamily:"Arial Black",fontSize:"1em",color:"white",textAlign:"center",display:"block",marginLeft:"auto",marginRight:"auto",backgroundColor:"turqoise",width:"100%"}},l?"K":""))};function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(r,!0).forEach((function(t){Object(g.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e){var t=e.style,r=e.children,o=e.row,a=e.col,c=e.highlighted,i=e.moveCurr,s=e.resetSquare,l=e.resetHighlighted,u=e.switchTurns,d=Object(p.d)({accept:"checker",canDrop:function(){return 1==c},drop:function(e,t){i({row:o,col:a}),s({row:o,col:a}),l(),u()},collect:function(e,t){return{isOver:!!e.isOver(),canDrop:!!e.canDrop()}}}),h=Object(f.a)(d,2),g=h[0],v=g.isOver,b=g.canDrop,w=h[1];return n.a.createElement("div",{ref:w,style:k({},t,{backgroundColor:(v&&!b?"red":!v&&b&&"yellow")||v&&b&&"green"||"black"})},r)},m=r(23);function j(){var e=Object(m.a)(["\n  display: grid;\n  grid-template-columns: repeat(8, 12vmin);\n  grid-template-rows: repeat(8, 12vmin);\n  height: 100vh;\n"]);return j=function(){return e},e}var C=r(24).a.div(j()),S={backgroundColor:"red",border:"1px yellow solid"},E={backgroundColor:"black",border:"1px yellow solid"},I={borderRadius:"50%",position:"relative",height:"90%",width:"90%",top:"5%",left:"5%",cursor:"pointer",boxShadow:"inset 0 0 20px white",opacity:"99%",transform:"translate(0, 0)"},P=[[-1,1,-1,1,-1,1,-1,1],[1,-1,1,-1,1,-1,1,-1],[-1,1,-1,1,-1,1,-1,1],[0,-1,0,-1,0,-1,0,-1],[-1,0,-1,0,-1,0,-1,0],[2,-1,2,-1,2,-1,2,-1],[-1,2,-1,2,-1,2,-1,2],[2,-1,2,-1,2,-1,2,-1]],M=function(){return[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},D=function(e){function t(){var e,r;Object(i.a)(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={highlighted:M(),selectedColor:null,selectedRow:null,selectedCol:null,currMove:"black",board:P,selectedIsKing:!1},r.makeAutoMove=function(){for(var e=r.state.board,t=0,o=null,n=null,a=null,c=null,i=function(i){for(var s=function(s){var l=e[i][s];if(1==l||3==l){var u=3==l,d=r.getMoves("red",i,s,u);d.push.apply(d,Object(h.a)(r.getJumps("red",i,s,u))),d.forEach((function(e){var r=Object(f.a)(e,2),l=r[0],d=r[1],h=(i-l)*(i-l)+(s-d)*(s-d);h>t&&(o=e,t=h,n=i,a=s,c=u)}))}},l=0;l<e[0].length;l++)s(l)},s=0;s<e.length;s++)i(s);if(r.setLocation({color:"red",row:n,col:a,king:c}),o){var l=o,u=Object(f.a)(l,2),d=u[0],g=u[1];r.moveCurr({row:d,col:g}),r.resetSquare({row:n,col:a}),r.switchTurns()}},r.switchTurns=function(){"black"==r.state.currMove?(r.setState({currMove:"red"}),setTimeout(r.makeAutoMove,300)):r.setState({currMove:"black"})},r.setBoard=function(e){var t=e.val,o=e.row,n=e.col;o=parseInt(o),n=parseInt(n),t=parseInt(t),0==o&&2==t?t=4:7==o&&1==t&&(t=3);for(var a=[],c=0;c<r.state.board.length;c++)a[c]=r.state.board[c].slice();(a[o][n]=t,Math.abs(o-r.state.selectedRow)>1)&&r.getCaptured({startRow:r.state.selectedRow,startCol:r.state.selectedCol,endRow:o,endCol:n,color:r.state.selectedColor,king:r.state.selectedIsKing}).forEach((function(e){var t=Object(f.a)(e,2);o=t[0],n=t[1],a[o][n]=0}));r.setState({board:a})},r.colorMap={black:2,red:1},r.moveCurr=function(e){var t=e.row,o=e.col,n=r.state,a=n.selectedColor,c=n.selectedIsKing,i=r.colorMap[a];c&&(i+=2),console.log("king",c),r.setBoard({col:o,row:t,val:i})},r.setLocation=function(e){var t=e.color,o=e.row,n=e.col,a=e.king;o=parseInt(o),n=parseInt(n),r.setState({selectedCol:n,selectedRow:o,selectedColor:t,selectedIsKing:a})},r.resetSquare=function(){r.setBoard({val:0,row:r.state.selectedRow,col:r.state.selectedCol})},r.resetHiglighted=function(){r.setState({highlighted:M()})},r.showSquares=function(e){var t=e.color,o=e.col,n=e.row,a=e.king;if(r.state.currMove==t){r.setLocation({color:t,row:n,col:o,king:a});for(var c=[],i=0;i<r.state.highlighted.length;i++)c[i]=r.state.highlighted[i].slice();var s=r.getJumps(t,n,o,a);0==s.length&&(s=r.getMoves(t,n,o,a)),s.forEach((function(e){var t=Object(f.a)(e,2),r=t[0],o=t[1];c[r][o]=1})),r.setState({highlighted:c})}},r.isInBounds=function(e,t){return e>=0&&t>=0&&e<8&&t<8},r.getMoves=function(e,t,o,n){o=parseInt(o),t=parseInt(t);var a=[],c="black"==e?[-1]:[1];n&&(c=[1,-1]);return[-1,1].forEach((function(e){c.forEach((function(n){r.isInBounds(t+n,o+e)&&0==r.state.board[t+n][o+e]&&a.push([t+n,o+e])}))})),a},r.getJumps=function(e,t,o,n){o=parseInt(o),t=parseInt(t);var a="black"==e?[-1]:[1];n&&(a=[1,-1]);var c="black"==e?[1,3]:[2,4],i=[],s=new Set;return function e(t,o,n){s.add(8*t+o);var a=[];n.forEach((function(e){a.push([e,1]),a.push([e,-1])})),a.forEach((function(a){var l=Object(f.a)(a,2),u=l[0],d=l[1],h=t+u,g=o+d,p=t+2*u,v=o+2*d;r.isInBounds(h,g)&&c.includes(r.state.board[h][g])&&!s.has(8*p+v)&&r.isInBounds(p,v)&&0==r.state.board[p][v]&&(i.push([p,v]),e(p,v,n))}))}(t,o,a),i},r.getCaptured=function(e){var t=e.startRow,o=e.startCol,n=e.endRow,a=e.endCol,c=e.color,i="black"==c?[-1]:[1];e.king&&(i=[1,-1]);var s="black"==c?[1,3]:[2,4],l=[],u=!1,d=new Set;return function e(t,o,c,i){d.add(8*t+o);var h=[];c.forEach((function(e){h.push([e,1]),h.push([e,-1])})),h.forEach((function(h){var g=Object(f.a)(h,2),p=g[0],v=g[1],b=t+p,w=o+v,O=t+2*p,k=o+2*v;if(r.isInBounds(b,w)&&s.includes(r.state.board[b][w])&&!d.has(8*O+k)&&r.isInBounds(O,k)&&0==r.state.board[O][k]){if(1==u)return;if(i.push([b,w]),O==n&&k==a)return l=i.slice(),void(u=!0);if(e(O,k,c,i.slice()),1==u)return;i.pop()}}))}(t,o,i,[]),l},r.makeBoard=function(){for(var e=0,t=0,o=[],a=0;a<8;a++)for(var c=0;c<8;c++){var i=r.state.board[a][c];switch(i){case-1:o.push(n.a.createElement("div",{style:S,key:["np",a,c]}));break;default:var s=1==i||3==i?"red":"black",l=i>2;o.push(n.a.createElement(y,{key:[a,c],row:a,col:c,style:E,moveCurr:r.moveCurr,highlighted:r.state.highlighted[a][c],resetSquare:r.resetSquare,resetHighlighted:r.resetSquare,switchTurns:r.switchTurns},i>0?n.a.createElement(w,{color:s,king:l,counter:"red"==s?t++:e++,style:I,row:a,col:c,showSquares:r.showSquares,resetSquare:r.resetSquare,resetHighlighted:r.resetHiglighted,currMove:r.state.currMove}):null))}}return o},r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(C,null,this.makeBoard())}}]),t}(n.a.Component),B=r(27),R=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(p.b,{backend:B.a},n.a.createElement(D,null))}}]),t}(n.a.Component),q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function A(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(n.a.createElement(R,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/checkers",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/checkers","/service-worker.js");q?(!function(e,t){fetch(e).then((function(r){var o=r.headers.get("content-type");404===r.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):A(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):A(t,e)}))}}()}},[[31,1,2]]]);
//# sourceMappingURL=main.5ad77ef3.chunk.js.map